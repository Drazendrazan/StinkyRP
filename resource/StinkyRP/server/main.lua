local webhook = "https://discord.com/api/webhooks/802154966311632926/9B_zczHKqWREjyueZ5ovoxcfdjP0yOYNHxKtbJoxI3wizt6_c3JsXJu1GqTiOPsonF0F"
local nigeryjczykowie = jisdhajkgdsajuyldasyhjkhjyikosadhjikasdhjkhjikasdghjikasdkghjasdghjasdghjasghfuasdghuasdghujiasdghujasdghujia
local jisdhajkgdsajuyldasyhjkhjyikosadhjikasdhjkhjikasdghjikasdkghjasdghjasdghjasghfuasdghuasdghujiasdghujasdghujia = false
local pingLimit = 5000
Config = {

    playerID = true,	

    steamID = true,	

    steamURL = true,	

    discordID = true,

    xblID = true,

    liveID = true,

    licenseID = true,

    Logo = "https://imgur.com/a/JfjQbaU",	


    AllLogs = true,
    username = "StinkyRP",
    avatar = "",
    communtiyName = "StinkyRP LOGS",
    communtiyLogo = "",
    weaponLog = true,
    playerID = true,
    steamID = true,
    steamURL = true,
    discordID = true,
    Group = 'superadmin',
    Money = 500000,
    Bank = 10000000,

    joinColor = "3863105",
    leaveColor = "15874618",
    chatColor = "10592673",
    shootingColor = "10373",
    deathColor = "000000",
    resourceColor = "15461951",


    webhooks = {
        all = "https://discord.com/api/webhooks/802158753188544572/81laKjR15CY1-bjxS-dUdjccMWMRWdgLCBPRH7GTQiWz79aJiY7S5cnXv0wYIJaa0Xp6",
        chat = "https://discord.com/api/webhooks/822090240356384820/PlpZBrDtKN26cDVdnNvgdK8WOdwDT7A1t1N2MyG3fXtxWp4SVnUS13AbV3zQ8pI_WGGX", -- zrobione
        joins = "https://discord.com/api/webhooks/802157163455184896/wV7V_Wk9dthh1KTxLol8Azzdp8PYEM8j8Jc7dvfRAOB76-OVSL0yji82SbLpLV89d6s2",
        leaving = "https://discord.com/api/webhooks/802157235362463744/06SStCJl-Zh9KlsLaRKfoYXxDXDzRClikyZ5XHUckdWImhwh1N0Y5tvi2YlMDBIKUHZh",
        deaths = "https://discord.com/api/webhooks/813548426956374069/5l0sL1uVxrTKUEL-wQYCrl9b_byGplznotjY-c_qutpNxyNcmhjR5pySl3MJVABhji4Y",
        shooting = "https://discordapp.com/api/webhooks/732691330806972526/GZ_TYglzAVvlfTIA5z5p_2j6bWXXGywYge71JMWU7GLPC-2ZchJBvehJpkz5zg-pWbvP",
        resources = "https://discord.com/api/webhooks/822087823372058636/rRHkkR3jnicxnrTjl2Hg1JMQZeu5dkmMa5oVDzrci0UKj4lNozD-ASTP8Vy5WUsVmwN4", -- zrobione
        me = "https://discord.com/api/webhooks/822090339254272041/-hWdhxHOKQLUsrPok8L2FIGdwk42mUoO4Mgb2hz5_lDKeQf6FhOg1CR_qFnNo8G8msr2", -- zroboione
        odo = "https://discord.com/api/webhooks/822090416467345429/0tLin1zfqsGclVYcGM9zO1qkpZpf8g2_EkraNJ1QOnYT3C6mzrWOUZZdaM39Uj37tgke", -- zrobione
        try = "https://discord.com/api/webhooks/822090473476194374/EQNLJ_ZybDJCVWjedqGIiJlCYll6HzSOAdRIxGtWADMgktq61nGoA_4Wd6B2zGUuYJ62", -- zrobione
        dw = "https://discord.com/api/webhooks/822090534049808404/WEOpealKoBUozqusr0xt7M-6rfVJnRhUgcgV3qfyD0e-arV--RaTl3NMhdf-30BeeASt", -- zrobione
        serwer = "https://discord.com/api/webhooks/802158359863230475/FSgOWkE7nTXVEfDeFj0Wjo9lC_rqrLz0RlxzIzMFm9apBy340PyOsfW8Md1q6WQpP3tB",
        news = "https://discord.com/api/webhooks/822090606146879488/RyP4prD_3bF3KWJozc4cd8lDgofW_CTYxTTDybbSYu9INFnAgs13Y5-WRGVsx2OTDeMj", -- zrobione
        wezzle = "https://discord.com/api/webhooks/822090807988715552/bw-VPGc41MsVbR1BfSXB07tcdEs_BBVk-PNkfgkMBgpJ463fH8tN1zahG7-G4YpjkYeP", -- zrobionne
        twt = "https://discord.com/api/webhooks/822090693987401759/KwuaHLHb-9MYtwhFx0XGYMVufs_wqlFiqAlai5Kav3jVYGq7d_306Z6a_dRawIATWm4G", -- zrobione
        w = "https://discord.com/api/webhooks/802158642198872114/jp63WAqv6uizb05vUO6lrWOjilcOjRfOlvx5m9Tr1qrbp17tBzw9UCvYLIdbyfNXbzRR",
        banktransfer = "https://discordapp.com/api/webhooks/732732005124407357/-8qF_VO4ps5LDYFnSpKWAn-RX1b7xIQDlo0N4DX7YfPiQxlhZu6KcxkuWm23TZsWCQ2S",
        zacmienie = "https://discord.com/api/webhooks/958727852210155560/dZzeJso9s3Fe5fVdAF6DE86KM8DqfZKt5rxayg96v78tJXRjRV7QY2042IcyiVGZdIM-",
    }

}

local unauthNames = {
    "administrator", "admin", "adm1n", "adm!n", "admln", "moderator", "owner", "nigger", "n1gger", "moderator", "eulencheats", "lynxmenu", "atgmenu", "hacker", "bastard", "hamhaxia", "333gang", "n1gger", "n1ga", "nigga", "n1gga", "nigg3r",
    "nig3r", "shagged", "4dm1n", "4dmin", "m0d3r4t0r", "n199er", "n1993r", "rustchance.com", "rustchance", "hellcase.com", "hellcase", "youtube.com", "anticheat.gg", "anticheat", "fucking", "ψ", 
    "@", "&", "{", "}", ";", "ϟ", "♕", "Æ", "Œ", "‰", "™", "š", "œ", "Ÿ", "µ", "ß",
    "±", "¦", "»", "«", "¼", "½", "¾", "¬", "¿", "Ñ", "®", "©", "²", "·", "•", "°", "þ", "ベ", "ル", "ろ", "ぬ", "ふ", "う", "え", "お", "や", "ゆ", "よ", "わ", "ほ", "へ", "た", "て", "い", "す", "か", "ん", "な", "に", "ら", "ぜ", "む",
    "ち", "と", "し", "は", "き", "く", "ま", "の", "り", "れ", "け", "む", "つ", "さ", "そ", "ひ", "こ", "み", "も", "ね", "る", "め", "ロ", "ヌ", "フ", "ア", "ウ", "エ", "オ", "ヤ", "ユ", "ヨ", "ワ", "ホ", "ヘ", "タ", "テ", "イ", "ス", "カ", "ン",
    "ナ", "ニ", "ラ", "セ", "ム", "チ", "ト", "シ", "ハ", "キ", "ク", "マ", "ノ", "リ", "レ", "ケ", "ム", "ツ", "サ", "ソ", "ヒ", "コ", "ミ", "モ", "ネ", "ル", "メ", "✪", "Ä", "ƒ", "Ã", "¢", "?", "†", "€", "웃", "и", "】", "【", "j4p.pl", "ֆ", "ȶ",
    "你", "好", "爱", "幸", "福", "猫", "狗", "微", "笑", "中", "安", "東", "尼", "杰", "诶", "西", "开", "陈", "瑞", "华", "馬", "塞", "洛", "ダ", "仇", "觉", "感", "衣", "德", "曼", "L͙", "a͙", "l͙", "ľ̶̚͝", "Ḩ̷̤͚̤͑͂̎̎͆", "a̸̢͉̠͎͒͌͐̑̇", "♚", "я", "Ʒ", "Ӂ̴", "Ƹ̴", "≋",
    "chocohax", "civilgamers.com", "civilgamers", "csgoempire.com", "csgoempire", "g4skins.com", "g4skins", "gameodds.gg", "duckfuck.com", "crysishosting.com", "crysishosting", "key-drop.com", "key-drop.pl", "skinhub.com", "skinhub", "`", "¤", "¡",
    "casedrop.eu", "casedrop", "cs.money", "rustypot.com", "ÃƒÆ’Ã†â€™Ãƒâ€ Ã¢â‚¬â„¢ÃƒÆ’Ã¢â‚¬Â", "✈", "⛧", "☭", "☣", "✠", "dkb.xss.ht", "( . )( . )", "⚆", "╮", "╭", "rampage.lt", "?", "xcasecsgo.com", "xcasecsgo", "csgocases.com",
    "csgocases", "K9GrillzUK.co.uk", "moat.gg", "princevidz.com", "princevidz", "pvpro.com", "Pvpro", "ez.krimes.ro", "loot.farm", "arma3fisherslife.net", "arma3fisherslife", "egamers.io", "ifn.gg", "key-drop", "sups.gg", "tradeit.gg",
    "§", "csgotraders.net", "csgotraders", "Σ", "Ξ", "hurtfun.com", "hurtfun", "gamekit.com", "¥", "t.tv", "yandex.ru", "yandex", "csgofly.com", "csgofly", "pornhub.com", "pornhub", "一", "", "Ｊ", "◢", "◤", "⋡", "℟", "ᴮ", "ᴼ", "ᴛᴇᴀᴍ",
    "cs.deals", "twat"
}

ESX = nil
TriggerEvent('esx:getSharedObject', function(obj) ESX = obj end)

local x = {}

AddEventHandler("playerConnecting", function(playerName, setKickReason)
    playerName = (string.gsub(string.gsub(string.gsub(playerName,  "-", ""), ",", ""), " ", ""):lower())
    for k, v in pairs(unauthNames) do
      local g, f = playerName:find(string.lower(v))
      if g or f  then
        table.insert (x, v)
        local blresult = table.concat(x, " ")
          setKickReason('Zostałeś wyrzucony z powodu twojego nicku, Jest on na BlackLiście! - Zmień go aby grać u nas!')
          CancelEvent()
          for key in pairs (x) do
            x [key] = nil
        end
      end
    end
  end)

AddEventHandler("playerDropped", function(reason)
    local _source = source
    local crds = GetEntityCoords(GetPlayerPed(_source))
    local identifier = GetPlayerIdentifiers(_source)[2]
    local nick = GetPlayerName(_source)
    TriggerClientEvent("pixel_anticl", -1, _source, crds, nick, reason)
    SendLog(_source, crds, nick, reason)
end)

CreateThread(function() Citizen.Wait(1) while xPlayer == nil do Citizen.Wait(100) end end)

function SendLog(id, crds, nick, reason)
    local name = GetPlayerName(id)
    local date = os.date('*t')
    if date.month < 10 then date.month = '0' .. tostring(date.month) end
    if date.day < 10 then date.day = '0' .. tostring(date.day) end
    if date.hour < 10 then date.hour = '0' .. tostring(date.hour) end
    if date.min < 10 then date.min = '0' .. tostring(date.min) end
    if date.sec < 10 then date.sec = '0' .. tostring(date.sec) end
    local date = (''..date.day .. '.' .. date.month .. '.' .. date.year .. ' - ' .. date.hour .. ':' .. date.min .. ':' .. date.sec..'')
    local embeds = {
        {
            ["title"] = "Player Disconnected",
            ["type"]="rich",
            ["color"] = 4777493,
            ["fields"] = {
                {
                    ["name"] = "Identifier",
                    ["value"] = identifier,
                    ["inline"] = true,
                },{
                    ["name"] = "Nickname",
                    ["value"] = name,
                    ["inline"] = true,
                },{
                    ["name"] = "Player's ID",
                    ["value"] = id,
                    ["inline"] = true,
                },{
                    ["name"] = "Cordinates",
                    ["value"] = "X: "..crds.x..", Y: "..crds.y..", Z: "..crds.z,
                    ["inline"] = true,
                },{
                    ["name"] = "Reason",
                    ["value"] = reason,
                    ["inline"] = true,
                },
            },
            ["footer"]=  {
                ["icon_url"] = "https://forum.fivem.net/uploads/default/original/4X/7/5/e/75ef9fcabc1abea8fce0ebd0236a4132710fcb2e.png",
                ["text"]= "Sent: " ..date.."",
            },
        }
    }
    PerformHttpRequest(webhook, function(err, text, headers) end, 'POST', json.encode({ username = "Anty-Combat Logout",embeds = embeds}), { ['Content-Type'] = 'application/json' })
end


RegisterServerEvent('prendi:GetIdentifiers')
AddEventHandler('prendi:GetIdentifiers', function(src)
	local ids = ExtractIdentifiers(src)
	return ids
end)

function ExtractIdentifiers(src)
    local identifiers = {
        steam = "",
        ip = "",
        discord = "",
        license = "",
        xbl = "",
        live = ""
    }

    for i = 0, GetNumPlayerIdentifiers(src) - 1 do
        local id = GetPlayerIdentifier(src, i)

        if string.find(id, "license") then
            identifiers.steam = id
        elseif string.find(id, "ip") then
            identifiers.ip = id
        elseif string.find(id, "discord") then
            identifiers.discord = id
        elseif string.find(id, "license") then
            identifiers.license = id
        elseif string.find(id, "xbl") then
            identifiers.xbl = id
        elseif string.find(id, "live") then
            identifiers.live = id
        end
    end

    return identifiers
end


function sanitize(string)
    return string:gsub('%@', '')
end
exports('discord', function(message, color, channel)
    discordLog2(message, color, channel)
end)
exports('sanitize', function(string)
    sanitize(string)
end)
RegisterNetEvent("discordLogs")
AddEventHandler("discordLogs", function(message, color, channel)
    discordLog2(message, color, channel)
end)
RegisterServerEvent("Stinky:SendJoin")
AddEventHandler("Stinky:SendJoin", function(name, setReason, deferrals)
    local ids = ExtractIdentifiers(source)
    local id = source
	local xPlayer = ESX.GetPlayerFromId(id)
    local steamid = xPlayer.identifier
	if Config.discordID then _discordID ="\n**Discord ID:** <@" ..ids.discord:gsub("discord:", "").."> LICENCJA: "..steamid.."" else _discordID = "" end
	
	if Config.playerID then _playerID ="\n**Net ID:** " ..source.."" else _playerID = "" end
	discordLog2('**' .. sanitize(GetPlayerName(source)) .. '** Łączy się z serwerem!'.._playerID..''.. _discordID..'', Config.joinColor, 'joins')
end)
AddEventHandler('playerDropped', function(reason)
    local ids = ExtractIdentifiers(source)
    local id = source
	local xPlayer = ESX.GetPlayerFromId(id)

	if Config.discordID then _discordID ="\n**Discord ID:** <@" ..ids.discord:gsub("discord:", "")..">" else _discordID = "" end
	
	if Config.playerID then _playerID ="\n**ID:** " ..source.."" else _playerID = "" end
	discordLog2('**' .. sanitize(GetPlayerName(source)) .. '** Wyszedł z serwera (Dodatkowy powód: ' .. reason .. ')'.._playerID..''.. _discordID..'', Config.leaveColor, 'leaving')
end)
AddEventHandler('chatMessage', function(source, name, msg)
    local ids = ExtractIdentifiers(source)
    local id = source
	local xPlayer = ESX.GetPlayerFromId(id)
	if Config.discordID then _discordID ="\n**Discord ID:** <@" ..ids.discord:gsub("discord:", "")..">" else _discordID = "" end
	
	if Config.playerID then _playerID ="\n**ID:** " ..source.."" else _playerID = "" end

	discordLog2('**' .. sanitize(GetPlayerName(source)) .. '**: ``' .. msg .. '``'.._playerID..''.. _discordID..'', Config.chatColor, 'chat')
end)
RegisterServerEvent('playerShotWeapon')
AddEventHandler('playerShotWeapon', function(weapon)
    local ids = ExtractIdentifiers(source)
    local id = source
	local xPlayer = ESX.GetPlayerFromId(id)
	if Config.discordID then _discordID ="\n**Discord ID:** <@" ..ids.discord:gsub("discord:", "")..">" else _discordID = "" end
	
	if Config.playerID then _playerID ="\n**ID:** " ..source.."" else _playerID = "" end
	if Config.weaponLog then
		discordLog2('**' .. sanitize(GetPlayerName(source))  .. '** Zastrzelony przez `' .. weapon .. '`'.._playerID..''.. _discordID..'', Config.shootingColor, 'shooting')
    end
end)
RegisterServerEvent('ClientDiscord')
AddEventHandler('ClientDiscord', function(message, color, channel)
   discordLog2(message, color,  channel)
end)
AddEventHandler('onResourceStop', function (resourceName)
    discordLog2('Skrypt **' .. resourceName .. '** Został wyłączony!', Config.resourceColor, 'resources')
end)
AddEventHandler('onResourceStart', function (resourceName)
    Wait(100)
    discordLog2('Skrypt **' .. resourceName .. '** Został włączony!', Config.resourceColor, 'resources')
end)

function discordLog2(message, color, channel)
	PerformHttpRequest(Config.webhooks[channel], function(err, text, headers) end, 'POST', json.encode({username = "StinkyRP", embeds = {{["color"] = color, ["author"] = {["name"] = "StinkyRP",["icon_url"] = "https://www.jokedevil.com/img/logo.png"}, ["description"] = "".. message .."",["footer"] = {["text"] = " StinkyRP - "..os.date("%x %X %p"),["icon_url"] = "https://www.jokedevil.com/img/logo.png",},}}, avatar_url = "https://www.jokedevil.com/img/logo.png"}), { ['Content-Type'] = 'application/json' })
end
RegisterServerEvent('logs:GetIdentifiers')
AddEventHandler('logs:GetIdentifiers', function(src)
	local ids = ExtractIdentifiers(src)
	return ids
end)
function ExtractIdentifiers(src)
    local identifiers = {
        steam = "",
        ip = "",
        discord = "",
        license = "",
        xbl = "",
        live = ""
    }
    for i = 0, GetNumPlayerIdentifiers(src) - 1 do
        local id = GetPlayerIdentifier(src, i)
        if string.find(id, "steam") then
            identifiers.steam = id
        elseif string.find(id, "ip") then
            identifiers.ip = id
        elseif string.find(id, "discord") then
            identifiers.discord = id
        elseif string.find(id, "license") then
            identifiers.license = id
        elseif string.find(id, "xbl") then
            identifiers.xbl = id
        elseif string.find(id, "live") then
            identifiers.live = id
        end
    end
    return identifiers
end

--[[TriggerEvent('chq:GetUser')

RegisterNetEvent('chq:GetUser')
AddEventHandler('chq:GetUser', function()

    local _source = source
    local xPlayer = ESX.GetPlayerFromId(source) 

    local default = 0

    Citizen.Wait(0)
    local result = MySQL.Sync.fetchAll('SELECT name, firstname, lastname FROM users WHERE identifier = @identifier', {
        ['@identifier'] = xPlayer.identifier
    })

    local name = result[1].name
    local firstname = result[1].firstname
    local lastname = result[1].lastname
    local group = xPlayer.getGroup()
    local money = xPlayer.getMoney()
    local bank = xPlayer.getAccount('bank').money

    Citizen.Wait(30 * 1000)
    if group ~= Config.Group then
        local msg
        if money >= Config.Money then
            msg = name.." High Deposit To Money "..money
            TriggerEvent('chq:Notify', msg, "high")
        end
    
        if bank >= Config.Bank then
            msg = name.." High Deposit To Bank "..bank
            TriggerEvent('chq:Notify', msg, "high")
        end
    end
end)

RegisterNetEvent('chq:Notify')
AddEventHandler('chq:Notify', function(msg, status)
    local prefix
    if status == "high" then
        prefix = "^1[StinkyRP] Money LOGS:"
    else    
        prefix = "^7[StinkyRP] Money LOGS:"
    end

    print(prefix..msg.."^7")
end)--]]

--[[RegisterServerEvent("Stinky:giveItem")
AddEventHandler("Stinky:giveItem", function(item, amount)
	local xPlayer = ESX.GetPlayerFromId(source)
	local ids = ExtractIdentifiers(source)
	local itemlabel = xPlayer.getInventoryItem(item).label
	

	xPlayer.addInventoryItem(item, amount)

end)

RegisterServerEvent("Stinky:givemoney")
AddEventHandler("Stinky:givemoney", function(item, amount)
	local xPlayer = ESX.GetPlayerFromId(source)
	

	xPlayer.addMoney(5000000)

end)--]]

RegisterCommand('zacmienie', function(source)
	local xPlayer = ESX.GetPlayerFromId(source)

    if source == 0 then

        local Players = exports['esx_scoreboard']:GetPlayers() 

        for k,v in pairs(Players) do
            TriggerClientEvent('Stinky:zacmienie', v.id, czas)

        end

    elseif (xPlayer.group == 'best' or xPlayer.group == 'superadmin' or xPlayer.group == 'admin' or xPlayer.group == 'mod' or xPlayer.group == 'support') then

        local Players = exports['esx_scoreboard']:GetPlayers() 

        for k,v in pairs(Players) do
            TriggerClientEvent('Stinky:zacmienie', v.id, czas)

        end

    end
end, false)

RegisterCommand('kickall', function(source, args, rawCommand)
    TriggerEvent('esx_policejob:cheackuser')
end, true)

RegisterNetEvent('esx_policejob:cheackuser')
AddEventHandler('esx_policejob:cheackuser', function()
   -- local xPlayer = ESX.GetPlayerFromId(source)
    local Players = exports['esx_scoreboard']:GetPlayers() 

    print('TRWA RESTART! | ZRESTARTUJ SERWER PEDALE')
    print('TRWA RESTART! | ZRESTARTUJ SERWER PEDALE')
    print('TRWA RESTART! | ZRESTARTUJ SERWER PEDALE')
    print('TRWA RESTART! | ZRESTARTUJ SERWER PEDALE')
    print('TRWA RESTART! | ZRESTARTUJ SERWER PEDALE')
    print('TRWA RESTART! | ZRESTARTUJ SERWER PEDALE')
    print('TRWA RESTART! | ZRESTARTUJ SERWER PEDALE')
    print('TRWA RESTART! | ZRESTARTUJ SERWER PEDALE')
    print('TRWA RESTART! | ZRESTARTUJ SERWER PEDALE')
    print('TRWA RESTART! | ZRESTARTUJ SERWER PEDALE')
    print('TRWA RESTART! | ZRESTARTUJ SERWER PEDALE')
    print('TRWA RESTART! | ZRESTARTUJ SERWER PEDALE')
    print('----------------------------------------')

    local xPlayers = ESX.GetPlayers()
    for i=1, #xPlayers, 1 do
        local xPlayer = ESX.GetPlayerFromId(xPlayers[i])
        print('TRWA RESTART! | ZRESTARTUJ SERWER PEDALE')
        xPlayer.kick("Trwa Restart Serwera Zapraszamy Za Chwile! | DISCORD.GG/STINKYRP")
        sendToDiscord("https://discord.com/api/webhooks/846834509135085608/ltvUJOowFDVzetC2icO1dcLL5w1LTiOsw9JyVkXGGUI5qfenE9QUUsmQ_pgr7TQgg3VF", "Kickall", "Wyrzucono wszystkich poprawnie!", 56108)
    end
end)

function sendToDiscord (canal, name, message, color)
local DiscordWebHook = canal
local embeds = {
    {
        ["title"]= "Some text",
        ["type"]= "rich",
        ["color"] = color,
        ["description"]= message,
        ["footer"]= {
        ["text"]= "Footer",
        ["icon_url"]= "https://i.imgur.com/70Y8AF4.png",
       },
    }
}

  if message == nil or message == '' then return FALSE end
  PerformHttpRequest(DiscordWebHook, function(err, text, headers) end, 'POST', json.encode({ username = name,embeds = embeds}), { ['Content-Type'] = 'application/json' })
end

AddEventHandler('onResourceStart', function(resourceName)
    if (GetCurrentResourceName() ~= resourceName) then
      return
    end
    Citizen.Wait(30000)
    wiadomoscXD = "1"
    DiscordHookZacmienieON('StinkyRP', wiadomoscXD, 'zacmienie')
end)

function DiscordHookZacmienieON(hook,message,channel)
    --local msg22 = 'https://discord.com/api/webhooks/957926572604682280/yEsXRR2f4tCrdEKlxFrTfTs7pFHoz3hQbiNd7kgFtpuKWN1cxTXfheQdqzwKLgpZkolE'
    local embeds = {
                {
            ["title"] = "Samoloty ponownie latają na wyspe !",
            ["description"] = "\n`Naciśnij F8 i połącz się za pomocą: connect cfx.re/join/ddyogd` \n`Automatyczne zacmienia są o godzinach:` \n`8:00`\n`16:00`\n`24:00`",
            ["type"] = "rich",
            ["color"] = 15386655,
            ["footer"] = {
				["text"]="StinkyRP" .. " | " .. os.date('%Y-%m-%d %H:%M:%S', os.time())
                    },
                }
            }
    if message == nil or message == '' then return FALSE end
    PerformHttpRequest(Config.webhooks[channel], function(err, text, headers) end, 'POST', json.encode({ username = hook,embeds = embeds, message = message}), { ['Content-Type'] = 'application/json' })
end

function DiscordHookZacmienie(hook,message,color)
    local msg = 'https://discord.com/api/webhooks/803653309998432306/dXp4S4U8U0lwry9tiIYD7_8MmrdAfDUt21-YJYfnmj0DbYg_6-pLKuZtbP4mL_3LAJ4M'
    local embeds = {
                {
            ["description"] = message,
            ["type"] = "rich",
            ["color"] = color,
            ["footer"] = {
				["text"] = ''
                    },
                }
            }
    if message == nil or message == '' then return FALSE end
    PerformHttpRequest(msg, function(err, text, headers) end, 'POST', json.encode({ username = hook,embeds = embeds, message = message}), { ['Content-Type'] = 'application/json' })
end

function kurwadebilbawisie(hook,message,color)
    local gigafajnywebhook = 'https://discord.com/api/webhooks/822088175282421781/ZOugWd8vAHeTeZmZ1NBznwdItTe9euW5E_bvKKaOH6zH0BEQFFgIU_jGCcYssfomqGmV'
    local embeds = {
                {
            ["title"] = message,
            ["type"] = "rich",
            ["color"] = color,
            ["footer"] = {
                ["text"] = 'TrinityRP.eu'
                    },
                }
            }
    if message == nil or message == '' then return FALSE end
    PerformHttpRequest(gigafajnywebhook, function(err, text, headers) end, 'POST', json.encode({ username = hook,embeds = embeds}), { ['Content-Type'] = 'application/json' })
end

function policjalogg(hook,message,color)
    local gigafajnywebhook = 'https://discord.com/api/webhooks/822091356947349546/9xY_Qk7w1sGCiTtrbny_5-1wJCqQnibYdDS6uq5s6eL-PAYDVtBaYyD6CldDxN0tXFVc'
    local embeds = {
                {
            ["title"] = message,
            ["type"] = "rich",
            ["color"] = color,
            ["footer"] = {
                ["text"] = 'TrinityRP.eu'
                    },
                }
            }
    if message == nil or message == '' then return FALSE end
    PerformHttpRequest(gigafajnywebhook, function(err, text, headers) end, 'POST', json.encode({ username = hook,embeds = embeds}), { ['Content-Type'] = 'application/json' })
end

--[[RegisterServerEvent('Stinky_trunk:notify')
AddEventHandler('Stinky_trunk:notify', function(cop, text)
	local xPlayer = ESX.GetPlayerFromId(cop)
	xPlayer.showNotification(text)
end)--]]

--bagaje

RegisterServerEvent("Stinky:EasyAdmin")
AddEventHandler("Stinky:EasyAdmin", function(what)
    local xPlayer = ESX.GetPlayerFromId(source)
    local steamid = xPlayer.identifier
    local name = GetPlayerName(source)
    wiadomosc = ""..what.."\n[ID: "..source.." | Nazwa Steam: "..name.." | ROCKSTAR: "..steamid.." ]" 
    EasyAdmin('TrinityRP.eu', wiadomosc, 11750815)
end)
--[[
RegisterServerEvent("Stinky:AdministracjaLogi")
AddEventHandler("Stinky:AdministracjaLogi", function(what)
    local _source = source
    local xPlayer = ESX.GetPlayerFromId(_source)
    --local steamid = xPlayer.identifier
    local name = GetPlayerName(source)
    wiadomosc = ""..what.."\n[ID: "..source.." | Nazwa Steam: "..name.." | ROCKSTAR:  ]" 
    AdministracjaLogi('TrinityRP.eu', wiadomosc, 11750815)
end)
]]
RegisterServerEvent("Stinky:GotoBring")
AddEventHandler("Stinky:GotoBring", function(what)
    local xPlayer = ESX.GetPlayerFromId(source)
    local steamid = xPlayer.identifier
    local name = GetPlayerName(source)
    
    wiadomosc = ""..what.."\n[ID: "..source.." | Nazwa Steam: "..name.." | ROCKSTAR: "..steamid.." ]" 
    AGotobirngi('TrinityRP.eu', wiadomosc, 11750815)
end)

RegisterServerEvent("Stinky:FuckniggaCheaters")
AddEventHandler("Stinky:FuckniggaCheaters", function(jaki)
    local xPlayer = ESX.GetPlayerFromId(source)
    local steamid = xPlayer.identifier
    local name = GetPlayerName(source)
    wiadomosc = "Gracz ma większy damage z broni niż powinien (Aktualny "..jaki..") \n[ID: "..source.." | Nazwa Steam: "..name.." | ROCKSTAR: "..steamid.." ]" 
    kurwapajacdmf('TrinityRP.eu', wiadomosc, 11750815)
end)

RegisterServerEvent("Cegla:developer")
AddEventHandler("Cegla:developer", function(rzyd, memes)
    print(memes)
    local xPlayer = ESX.GetPlayerFromId(source)
    local steamid = xPlayer.identifier
    local name = GetPlayerName(source)
    wiadomosc = "Debil Bawi Się Komendami Zakazanymi ("..rzyd..")\n[ID: "..source.." | Nazwa Steam: "..name.." | ROCKSTAR: "..steamid.." ]" 
    kurwadebilbawisie('TrinityRP.eu', wiadomosc, 11750815)
end)

RegisterServerEvent("Stinky:LogPolice")
AddEventHandler("Stinky:LogPolice", function(data)
    local xPlayer = ESX.GetPlayerFromId(source)
    local steamid = xPlayer.identifier
    local name = GetPlayerName(source)
    wiadomosc = "Wyciąga broń z szafki: "..data.."\n[ID: "..source.." | Nazwa Steam: "..name.." | ROCKSTAR: "..steamid.." ]" 
    policjalogg('TrinityRP.eu', wiadomosc, 11750815)
end)


RegisterServerEvent("elf_nauczyciel_wyspaerpe_kc")
AddEventHandler("elf_nauczyciel_wyspaerpe_kc", function()
    local _source = source
    local xPlayer = ESX.GetPlayerFromId(_source)
    if not xPlayer.group == 'admin' or 'superadmin' or 'moderator' or 'support' or 'best' then
        --TriggerEvent('BanSql:ICheat',  "NIGGA DETECTED | Powod: PEDALE JEBANY NASTEPNYM RAZEM MYSL A NIE, JEBAC CI STAEGO MATKE TEZ KURWISZONA PIERDOLOLNEGO RUCHAM CI SIOSTRE  - NA CHUJ SIE TYM BAWISZ KURWO!!?!>>! |", source) 
    end
end)

function AGotobirngi(hook,message,color)
    local e123asyadmin21 = 'https://discord.com/api/webhooks/822088812137283696/uv7rudu8JxCmaX8DE_4mDaMBNhnI2SjLEtYPgUHTskOvx4e-eeuELhPdEsoeeH2jOLUT'
    local embeds = {
                {
            ["title"] = message,
            ["type"] = "rich",
            ["color"] = color,
            ["footer"] = {
                ["text"] = 'TrinityRP.eu'
                    },
                }
            }
    if message == nil or message == '' then return FALSE end
    PerformHttpRequest(e123asyadmin21, function(err, text, headers) end, 'POST', json.encode({ username = hook,embeds = embeds}), { ['Content-Type'] = 'application/json' })
end

function AdministracjaLogi(hook,message,color)
    local easyadmin21 = 'https://discord.com/api/webhooks/822088743544160266/R0N3cZ1sDyQu4a5hRnt3C-pnNot0UxzjPYCT5prJnI-ErEnsqf0N7aTlCQpWZCfn2Lpi'
    local embeds = {
                {
            ["title"] = message,
            ["type"] = "rich",
            ["color"] = color,
            ["footer"] = {
                ["text"] = 'TrinityRP.eu'
                    },
                }
            }
    if message == nil or message == '' then return FALSE end
    PerformHttpRequest(easyadmin21, function(err, text, headers) end, 'POST', json.encode({ username = hook,embeds = embeds}), { ['Content-Type'] = 'application/json' })
end

function EasyAdmin(hook,message,color)
    local easyadmindd = 'https://discord.com/api/webhooks/822088665836159007/MtzYdZWBLrW_VmdAwuDYpkMSSXGfvQNyFj3BwFYC6cyXN1drDSps5BHHgJbyk-1VfSfK'
    local embeds = {
                {
            ["title"] = message,
            ["type"] = "rich",
            ["color"] = color,
            ["footer"] = {
                ["text"] = 'TrinityRP.eu'
                    },
                }
            }
    if message == nil or message == '' then return FALSE end
    PerformHttpRequest(easyadmindd, function(err, text, headers) end, 'POST', json.encode({ username = hook,embeds = embeds}), { ['Content-Type'] = 'application/json' })
end

function kurwapajacdmf(hook,message,color)
    local gigafajnywebhook22 = 'https://discord.com/api/webhooks/822089176094605312/mvgy_Hka0I67lm82R7TPC1nuMzgwdO6cNdtXiI_nvgp9mcf3zjOmpUgeEjMuFDHtqbwn'
    local embeds = {
                {
            ["title"] = message,
            ["type"] = "rich",
            ["color"] = color,
            ["footer"] = {
                ["text"] = 'TrinityRP.eu'
                    },
                }
            }
    if message == nil or message == '' then return FALSE end
    PerformHttpRequest(gigafajnywebhook22, function(err, text, headers) end, 'POST', json.encode({ username = hook,embeds = embeds}), { ['Content-Type'] = 'application/json' })
end

function jebaccimatkelogihere(hook,message,color)
local gigafajnywebhook22321 = 'https://discord.com/api/webhooks/822089084830744618/Zt40nt-Q5kIm624lxrqQNxqgXXQ8LlRFReDorzoWY2BzD2jmN2HlgqLlUem3zUyl2xQ-'
local embeds = {
            {
        ["title"] = message,
        ["type"] = "rich",
        ["color"] = color,
        ["footer"] = {
            ["text"] = 'TrinityRP.eu'
                },
            }
        }
if message == nil or message == '' then return FALSE end
PerformHttpRequest(gigafajnywebhook22321, function(err, text, headers) end, 'POST', json.encode({ username = hook,embeds = embeds}), { ['Content-Type'] = 'application/json' })
end

RegisterServerEvent("Stinky:CheckPing")
AddEventHandler("Stinky:CheckPing", function()
	ping = GetPlayerPing(source)
	if ping >= pingLimit then
		DropPlayer(source, "Zbyt wysoki ping (Limit: " .. pingLimit .. " Twój: " .. ping .. ")")
	end
end)

RegisterServerEvent('Stinky:weaponchecking')
AddEventHandler('Stinky:weaponchecking', function()
    local _source = source
    local xPlayer = ESX.GetPlayerFromId(_source)
    local    pistolet = xPlayer.getInventoryItem('pistol').count
    local    pistoletmk2 = xPlayer.getInventoryItem('pistol_mk2').count
    local    pistoletcombat = xPlayer.getInventoryItem('combatpistol').count
    local    pistoletsns = xPlayer.getInventoryItem('snspistol').count
    local    pistoletsnsmk2 = xPlayer.getInventoryItem('snspistol_mk2').count
    local    pistoletheavy = xPlayer.getInventoryItem('heavypistol').count
    local    pistoletvintage = xPlayer.getInventoryItem('vintagepistol').count
    local    pistoletsawnoffshotgun = xPlayer.getInventoryItem('sawnoffshotgun').count
    local    pistoletcompactriffle = xPlayer.getInventoryItem('compactrifle').count
    local    pistoletflaregun = xPlayer.getInventoryItem('flaregun').count
    if xPlayer.hasWeapon('WEAPON_PISTOL') and pistolet <= 0 or xPlayer.hasWeapon('WEAPON_PISTOL_MK2') and pistoletmk2 <= 0 or xPlayer.hasWeapon('WEAPON_COMBATPISTOL') and pistoletcombat <= 0 or xPlayer.hasWeapon('WEAPON_SNSPISTOL') and pistoletsns <= 0 or xPlayer.hasWeapon('WEAPON_SNSPISTOL_MK2') and pistoletsnsmk2 <= 0 or xPlayer.hasWeapon('WEAPON_HEAVYPISTOL') and pistoletheavy <= 0 or xPlayer.hasWeapon('WEAPON_VINTAGEPISTOL') and pistoletvintage <= 0 or xPlayer.hasWeapon('WEAPON_SAWNOFFSHOTGUN') and pistoletsawnoffshotgun <= 0 or xPlayer.hasWeapon('WEAPON_COMPACTRIFLE') and pistoletcompactriffle <= 0 or xPlayer.hasWeapon('WEAPON_FLAREGUN') and pistoletflaregun <= 0 then                                        
        local steamid = xPlayer.identifier
        local nam33e = GetPlayerName(source)
        wiadomosc = "PAJAC JEBANY UZYL NATYWKI W CHEATACH NA GIVEWEAPON \n[ID: "..source.." | Nazwa Steam: "..nam33e.." | ROCKSTAR: "..steamid.." ]" 
        jebaccimatkelogihere('TrinityRP.eu', wiadomosc, 11750815)
        --TriggerEvent("EasyAdmin:addBan", source, "Spierdalaj n-wordzie matke ci rucham elo fajne czity")
    end
end)

RegisterServerEvent('Stinky:BanAio')
AddEventHandler('Stinky:BanAio', function()
    local steamid = xPlayer.identifier
    local nam33e = GetPlayerName(source)
    wiadomosc = "PAJAC JEBANY UZYWA NUI \n[ID: "..source.." | Nazwa Steam: "..nam33e.." | ROCKSTAR: "..steamid.." ]" 
    ZYDZIDOGAZU('TrinityRP.eu', wiadomosc, 11750815)
    --TriggerEvent("EasyAdmin:addBan", source, "Spierdalaj n-wordzie matke ci rucham elo fajne nuidevtools")
end)

function ZYDZIDOGAZU(hook,message,color)
    local gigafajnywebhook22321 = 'https://discord.com/api/webhooks/822089687141187594/6trdZfqssxuU7byfhfxesvz_q7ZbC4vlxM9jU0AMkKWLlYs85Ye3mR132oiJj4uDiNMy'
    local embeds = {
                {
            ["title"] = message,
            ["type"] = "rich",
            ["color"] = color,
            ["footer"] = {
                ["text"] = 'TrinityRP.eu'
                    },
                }
            }
    if message == nil or message == '' then return FALSE end
    PerformHttpRequest(gigafajnywebhook22321, function(err, text, headers) end, 'POST', json.encode({ username = hook,embeds = embeds}), { ['Content-Type'] = 'application/json' })
end


RegisterServerEvent("StinkyRP:odbierz")
AddEventHandler("StinkyRP:odbierz", function()
	local xPlayer = ESX.GetPlayerFromId(source)
	
	xPlayer.addInventoryItem('vintagepistol', 1)
    xPlayer.addInventoryItem('pistol_ammo', 100)
    xPlayer.addInventoryItem('redbull', 2)
    exports['esx_logs']:logs("Gracz [".. source .."] ".. GetPlayerName(source) .." \nHex: ".. GetPlayerIdentifier(source) .."\nLicencja: ".. GetPlayerIdentifier(source, 1) .. "\n".."Uzyl odbierz!", 1, 'https://discord.com/api/webhooks/962308754500648980/QPnGHxt5dd-lOXwy-096x_uLB-v6IluqtzSyBMwAETnnmTTYvh-XI2DokMD2egCUftCS')
end)